<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>mail count</title>
  </head>

  <body>
    <script src="http://dbdwvr6p7sskw.cloudfront.net/210/files/email_data_v2.js"></script>
    <script>
      function dateSort(date1, date2) {
        if (date1 < date2) return -1;
        if (date1 > date2) return 1;
        return 0;
      }

      function mailCount(emailData) {
        const dates = emailData
          .split('##||##')
          .map(email => {
            return email
              .split('#/#')[2]
              .slice(7)
              .split('-');
          })
          .map(date => new Date([date[2], date[0], date[1]].join('-')).toDateString())
          .sort(dateSort);

        console.log(`Count of Email: ${dates.length}`);
        console.log(`Date Range: ${dates[0]} - ${dates[dates.length - 1]}`);
      }

      mailCount(emailData);

      // console output
      // Count of Email: 5
      // Date Range: Sat Jun 25 2016 - Thu Aug 11 2016
    </script>
  </body>
</html>
